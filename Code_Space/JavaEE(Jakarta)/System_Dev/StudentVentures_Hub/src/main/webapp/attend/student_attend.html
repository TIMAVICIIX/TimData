<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>乐行学途-申请入学</title>
    <link rel="icon" href="../static/resources/index/LXXT_Logo.png">
    <link href="../static/bootstrap-5.3.0-alpha1-dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link href="../static/css/for_main.css" rel="stylesheet">
    <link href="../static/css/for_home.css" rel="stylesheet">
    <link href="../static/css/thridPartFont.css" rel="stylesheet">
</head>
<body>

<div class="home_addNewMessage_Part" style="width: 100%;margin-top: 100px">
    <p style="color: #0b4862;font-size: 40px;margin-bottom: 0;margin-top: 10px;font-family: Auto_Pen, 黑体, Arial, sans-serif">
        !填写入学信息!</p>

    <div class="addForm" id="stuAddForm">

        <div class="addForm_div">学生姓名:<input id="stuAddName" class="addForm_input" type="text">
        </div>
        <div class="addForm_div">学生性别:
            <select id="stuAddSex" class="addForm_select">
                <option selected="selected" value="男">男</option>
                <option value="女">女</option>
            </select>
        </div>

        <div class="addForm_div">所属学院:
            <select id="stuAddCollege" class="addForm_select"
                    onchange="addInfoSpecRequest()">

            </select>
        </div>

        <div class="addForm_div">所属专业:
            <select id="stuAddSpec" class="addForm_select"
                    onchange="addInfoClassRequest(this,'stuAddClass')">

            </select>
        </div>

        <div class="addForm_div">所属班级:
            <select id="stuAddClass" class="addForm_select">

            </select>
        </div>

        <div class="addForm_div">联系方式:<input id="stuAddTelephone" type="number"
                                                 class="addForm_input"></div>

        <div class="addForm_div">入学时间:
            <select id="stuAddTime" class="addForm_select">

            </select>
        </div>

        <div class="addForm_div">
            <button id="newStudentAddBtn" class="NewConfirmBtn" onclick="saveNewInfo('Student')">
                提&nbsp;交
            </button>
        </div>


    </div>

    <div class="addForm" id="classAddForm" style="display:none">

        <div class="addForm_div">所属学院:
            <select id="classAddCollege" class="addForm_select"
                    onchange="addInfoSpecRequest(this,'classAddSpec')">

            </select>
        </div>

        <div class="addForm_div">所属专业:
            <select id="classAddSpec" class="addForm_select">

            </select>
        </div>

        <div class="addForm_div">开班年份:
            <select id="classAddYear" class="addForm_select">

            </select>
        </div>
        <div class="addForm_div">班级名称:<input id="classAddName" class="addForm_input" type="text">
        </div>

        <div class="addForm_div">
            <button id="newClassAddBtn" class="NewConfirmBtn" onclick="saveNewInfo('Class')">
                提&nbsp;交
            </button>
        </div>

    </div>

    <div class="addForm" id="specAddForm" style="display:none;">

        <div class="addForm_div">所属学院:
            <select id="specAddCollege" class="addForm_select">

            </select>
        </div>

        <div class="addForm_div">专业名称:<input id="specAddName" class="addForm_input" type="text">
        </div>

        <div class="addForm_div">
            <button id="newSpecAddBtn" class="NewConfirmBtn" onclick="saveNewInfo('Spec')">
                提&nbsp;交
            </button>
        </div>

    </div>
</div>


<script src="../static/bootstrap-5.3.0-alpha1-dist/js/bootstrap.bundle.min.js"
        integrity="sha384-/mhDoLbDldZc3qpsJHpLogda//BVZbgYuw6kof4u2FrCedxOtgRZDTHgHUhOCVim"
        crossorigin="anonymous"></script>
<script src="../static/Jquery/jquery-3.7.1.js"></script>
<script src="../static/Js/index/MainBackgroundAnimation.js"></script>
<script src="../static/Js/index/IndexBannerAnimation.js"></script>
<script src="../static/Js/index/IndexChangeAnimation.js"></script>
<script src="../static/Js/index/IndexQueryAnimation.js"></script>
<script src="../static/Js/index/IndexLoginController.js"></script>
<script>
    function addInfoCollegeRequest() {

        $.ajax({
            url: '/StudentVentures_Hub/index-controller',
            dataType: 'text',
            type: 'POST',
            data: {
                action: "saveRequest",
                saveRequestType: "college",
            }, success: function (response) {
                $('#stuAddCollege').html(response);
                document.getElementById("stuAddCollege").onchange();
            }, error: function () {
                awakePrompt("ERROR", "学院选择请求", "请检查网络连接!", null, null);
            }

        });
    }

    function addInfoSpecRequest(onChangeSelect, responseSpecSelect) {

        $.ajax({
            url: '/StudentVentures_Hub/index-controller',
            dataType: 'text',
            type: 'POST',
            data: {
                action: "saveRequest",
                saveRequestType: "spec",
                saveRequestFilter: onChangeSelect.value
            }, success: function (response) {
                $('#' + responseSpecSelect).html(response);
                document.getElementById(responseSpecSelect).onchange();
            }, error: function () {
                awakePrompt("ERROR", "班级选择请求", "请检查网络连接!", null, null);
            }
        });

    }

    function addInfoClassRequest(onChangeSelect, responseClassSelect) {
        $.ajax({
            url: '/StudentVentures_Hub/index-controller',
            dataType: 'text',
            type: 'POST',
            data: {
                action: "saveRequest",
                saveRequestType: "class",
                saveRequestFilter: onChangeSelect.value
            }, success: function (response) {
                $('#' + responseClassSelect).html(response);
            }, error: function () {
                awakePrompt("ERROR", "班级选择请求", "请检查网络连接!", null, null);
            }
        });
    }

    addInfoCollegeRequest();
</script>
</body>
</html>